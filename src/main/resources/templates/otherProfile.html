<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:replace="th_templates/head :: head"></head>

<link rel="stylesheet" href="/src/main/resources/static/css/MyProfile.css" />
<link rel="stylesheet" href="/src/main/resources/static/css/form.css" />

<body>
  <!-- NAVBAR >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->
  <header th:replace="th_templates/navbar :: navbar"></header>

  <br><br><br>

  <main class="main-index">

    <!-- CARD PROFILE PROVIDER >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->
    <div class="card text-center big-card-profile" th:object="${usuarioActual}">
      <div class="card-body">
        <div class="profile-picture">
          <img class="image-profile" th:src="@{'/image/DB/' + *{image}}" />
        </div>

        <h1 class="title" th:text="*{name} + ' ' + *{lastname}"></h1>
        <!-- <h5 class="subtitle3" th:text="*{profession}"></h5> -->

        <div class="profession-container">
          <h4 class="subtitle3">ProfesiÃ³n: <span th:text=" *{profession}"></span></h4>
          <h4 class="subtitle3">Contacto: <span th:text=" *{phone}"></span></h4>
          <h4 class="subtitle3">DescripciÃ³n: <span th:text=" *{description}"></span></h4>
          <h4 class="subtitle3">E-mail: <span th:text=" *{email}"></span></h4>
          <h4 class="subtitle3">TelÃ©fono: <span th:text=" *{phone}"></span></h4>
          <h4 class="subtitle3">Servicios: <span th:text=" *{description}"></span></h4>
      </div>
      

        <div sec:authorize="hasRole('ROLE_CUSTOMER') OR hasRole('ROLE_PROVIDER')">
          <a class="btn btn-warning button btn-form"
            th:href="@{/work/create(applicationType='work', idProvider=${usuarioActual.id})}">ðŸ”¨ Solicitar Servicio
            </a>
        </div>
      </div>
    </div>






    <!-- <card class="profile-form" th:object="${usuarioActual}">
     
      <div class="container text-center">
        <div id="rolStore" th:data-rol="*{role}"></div>
        <div class="row">
          <div class="col left-col">
            <div class="profile-picture">
              <img class="image-profile" th:src="@{'/image/DB/' + *{image}}" />
            </div>
            <div class="console text-center">
              <h1 class="big-title" th:text="*{name} + ' ' + *{lastname}"></h1>
            </div>
            <h4 class="subtitle" th:text="*{profession}"></h4>

            <div class="providerOnly text-center" style="display: none">
              <h4><i>Oficio:â€Ž </i> <span th:text="*{profession}"></h4>
              <h4><i>Contacto:â€Ž </i><span th:text="*{phone}"></h4>
              <h4><i>Descripcion:â€Ž </i> <span th:text="*{description}"></h4>
              <h4><i>Descripcion:â€Ž </i> <span th:text="*{email}"></h4>
              <h4><i>TelÃ©fono ðŸ“žâ€Ž </i><span th:text="*{phone}"></h4>
              <h4><i>Servicios: â€Ž </i> <span th:text="*{description}"></h4>
            </div>

            <!------------ BOTON AGREGADO POR FACU, CONTIENE ID DEL PROVIDER Y VALUE PARA INDICAR QUE ES SOLICITUD DE TRABAJO ------------>
    <!-- <div sec:authorize="hasRole('ROLE_CUSTOMER') OR hasRole('ROLE_PROVIDER')">
              <a class="btn btn-warning button btn-form"
                th:href="@{/work/create(applicationType='work', idProvider=${usuarioActual.id})}">Solicitar Servicio
                ðŸ”¨</a>
            </div>
          </div>
        </div>
      </div>
    </card> -->
  </main>

  <br><br>

  <!-- FOOTER >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->
  <footer th:replace="th_templates/footer :: footer"></footer>

  <!-- Script / Bootstrap -->
  <div th:replace="th_templates/bootstrap :: bootstrap"></div>

  <!-- <script>
    //gestion de rol
    const divProviders = document.querySelectorAll(".providerOnly")
    var rolUser = document.getElementById("rolStore");
    var rolInfo = rolUser.getAttribute("data-rol");
    console.log(rolInfo);
    if (rolInfo === 'PROVIDER') {
      for (let i = 0; i < divProviders.length; i++) {
        divProviders[i].style.display = "block";
      }
    }
  </script> -->

</body>

</html>